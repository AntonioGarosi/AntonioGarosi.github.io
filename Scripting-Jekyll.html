<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='utf-8'>
    <title>
        
            Scripting with Jekyll
        
    </title>

    <meta name='robots' content='index,follow'>
    <meta name='revisit-after' content='1 days'>

    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta name='HandheldFriendly' content='True'>
    <meta name='MobileOptimized' content='320'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
    <meta http-equiv='cleartype' content='on'>

    
        <link rel='stylesheet' href='http://localhost:4000/assets/css/syntax.css' type='text/css'>
    
    
    <link rel='stylesheet' href='http://localhost:4000/assets/css/minimal-block.css' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>
    <link rel='alternate' type='application/rss+xml' title='Antonio's Portfolio' href='http://localhost:4000/feed.xml'>

</head>

<body>
    <header id='top' class='main-header'>
        <div class='module title color-1'>
            <h1><a href='http://localhost:4000/'>Antonio's Portfolio</a></h1>
        </div>

        <div class='module description color-2'>
            Makey, toyish, geeky, designish works by a fab guy from Tuscany
        </div>
        
        <nav class='module main-menu color-4'>
            <a href='http://localhost:4000/'>Home</a>
            <a href='http://localhost:4000/projects/'>Projects</a>
        </nav>

        <div class='module links color-3'>
            <a href='mailto:antonio_garosi@yahoo.it' title='Email' target='_blank'>mail</a>
            <a href='https://github.com/AntonioGarosi' title='Profile in Github' target='_blank'>github</a>
            <a href='https://twitter.com/AGarosi' title='Profile in Twitter' target='_blank'>twitter</a>
            <a href='http://localhost:4000/feed.xml' title='Suscribe to RSS' target='_blank'>rss</a>
        </div>
    </header>

    <div id='top' class="main-content">
    <article class="module color-3">
        <h1>Scripting with Jekyll</h1>
        <div class='separator'></div>
        <p><img src="assets/img/posts/logo-2x.png" alt="jekyll logo" /></p>

<p>I’ve been using the static site generator <a href="https://gohugo.io/">Hugo</a> for several months and I found it amazing. Its ease of use and adaptability resulted a very cool and helpful way to create html sites in a matter of minutes. However, it still has its limitationsm, especially when you find yourself struggling with pages slightly more complex than basic blog posts with cookie-cutter templates.</p>

<p>When I found myself in the need of making this portfolio, I was willing to make the next step and overcome these limits by trying what was considered the last frontier of static site generators: <a href="http://jekyllrb.com/">Jekyll</a>.
At first, it appeared to act like a standard template engine with many fancy functionalities, when it was time to get out of the “Hello World” stage of deployment I went through some serious head-scratching.
Jekyll is well promoted for its high levels of extensibility and compatibility, and that is indeed true, but it comes with a price and that is to understand to a good degree (hence effort, hence time) its underlying mechanism.</p>

<p>No rocket science involved in here (and this site is running it’s the proof), but what Hugo and its framework accomplish with few key strokes, in Jekyll and its error-prone Ruby dependency is done with more commands, more guesswork and less enjoyment.</p>

<p>In the end, if you have enough time and curiosity, the result might very well worth the hassle (don’t get fooled by my poor introduction: Jekyll is surely a powerful and enabling tool) but trying to remember everytime all the options required to properly create, implement, test and launch a site can be daunting.</p>

<p>That’s why I started to write a series of BASH scripts to simplify this process that made it more easy to mantain this portfolio and kept my working folder and my Githubpages repo much cleaner.</p>

<p>Here it is from its relative work-in-progress <a href="https://github.com/AntonioGarosi/JekyllScripts">Github repository</a>:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c"># Scripts to handle my goddam portfolio</span>
<span class="c"># ./jekyll-scripts.sh build - Exports site and updates GithubPages</span>
<span class="c"># ./jekyll-scripts.sh build locale - Exports site with local dependencies</span>
<span class="c"># ./jekyll-scripts.sh serve - Mounts site locally and opens it in the browse (firefox). --livereload active by default</span>
<span class="c"># ./jekyll-scripts.sh new - Makes a new post page and opens it in the editor //NOT IMPLEMENTED YET</span>
<span class="c"># ./jekyll-scripts.sh new *template* - Makes a new project of the chosen template and opens it in the editor //NOT IMPLEMENTED YET</span>

<span class="c">#Build location - _site by Jekyll default, change it in case of different destination</span>
<span class="nv">REPO</span><span class="o">=</span><span class="s2">"_site"</span>

<span class="k">case</span> <span class="nv">$1</span> <span class="k">in
</span>build<span class="p">)</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="nv">$2</span> <span class="o">]</span>
    <span class="k">then
        </span><span class="nv">JEKYLL_ENV</span><span class="o">=</span>production jekyll build
        <span class="nb">cd</span> <span class="nv">$REPO</span>
        git add <span class="nb">.</span>
        <span class="nb">printf</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span>
        <span class="nb">read</span> <span class="nt">-p</span> <span class="s2">"Please, write a message for the commit: "</span> MSG
        git commit <span class="nt">-m</span> <span class="s2">"</span><span class="nv">$MSG</span><span class="s2">"</span>
        git push
        <span class="nv">GITMSG</span><span class="o">=</span><span class="s2">" and uploaded"</span>
    <span class="k">else
        if</span> <span class="o">[</span> <span class="nv">$2</span> <span class="o">==</span> <span class="s2">"local"</span> <span class="o">]</span>
        <span class="k">then
            </span>jekyll build
        <span class="k">else
            </span><span class="nv">ERROR_DUMP</span><span class="o">=</span><span class="s2">"Wait! You building against what?"</span>
        <span class="k">fi
    fi
    if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$ERROR_DUMP</span><span class="s2">"</span> <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">printf</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">Build done</span><span class="nv">$GITMSG</span><span class="s2">, thank you!</span><span class="se">\n\n</span><span class="s2">"</span>
    <span class="k">fi</span>
<span class="p">;;</span>
serve<span class="p">)</span>
    <span class="c">#Understand how to optimize this function</span>
    firefox http://127.0.0.1:4000/ &amp; jekyll serve <span class="nt">--livereload</span>
<span class="p">;;</span>
new<span class="p">)</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nt">-e</span> scripts/new.sh <span class="o">]</span>
    <span class="k">then
        </span><span class="nv">TYPE</span><span class="o">=</span><span class="s2">""</span>
        <span class="c">#change check to an array of strings according to templates</span>
        <span class="k">if</span> <span class="o">[</span> <span class="nv">$2</span> <span class="o">==</span> <span class="s2">"template"</span> <span class="o">]</span>
        <span class="k">then</span>
            <span class="nv">$TYPE</span><span class="o">=</span><span class="nv">$2</span>
        <span class="k">fi</span>
        <span class="c">#Not implemented yet</span>
        ./scripts/new.sh <span class="nv">$TYPE</span>
    <span class="k">else
        </span><span class="nv">ERROR_DUMP</span><span class="o">=</span><span class="s2">"ERROR!!! scripts/new.sh not found!!!"</span>
    <span class="k">fi</span>
<span class="p">;;</span>
<span class="k">*</span><span class="p">)</span>
    <span class="nb">printf</span> <span class="s2">"Invalid input</span><span class="se">\n</span><span class="s2">"</span>
<span class="k">esac

if</span> <span class="o">[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$ERROR_DUMP</span><span class="s2">"</span> <span class="o">]</span>
<span class="k">then
    </span><span class="nb">printf</span> <span class="s2">"</span><span class="se">\n</span><span class="nv">$ERROR_DUMP</span><span class="se">\n\n</span><span class="s2">"</span>
<span class="k">fi</span>

</code></pre></div></div>
<p>The script isn’t fully coded and tested yet, but in case you want to try it, remember to:</p>

<p><em>1. Clone you GithubPages to the Jekyll destination folder</em></p>

<p><em>2. Change the REPO variable to your destination folder</em></p>

<p><em>3. Give execution permits to the script via terminal with the command: sudo chmod +x jekyll-scripts.sh</em></p>

<p>When I’ll feel like most basis are covered and well-working, I’ll further automatize the process by writing aliases and installation features.</p>

        <div class='separator'></div>
        <p class="top"><small><a href="#top">[top]</a></small></p>
    </article>
</div>

    <div class="footer module">
    <p>
        Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyllrb</a><br/>
        Made by me with a bastardized version of the <a href="https://github.com/drvy/minimal-block" target="_blank">minimal-block theme</a><br>
        2018 - AG
    </p>
</div>

</body>
</html>
